{"remainingRequest":"E:\\vueDome\\vue_Component\\node_modules\\_babel-loader@8.0.6@babel-loader\\lib\\index.js!E:\\vueDome\\vue_Component\\src\\components\\easy-cron\\tabs\\mixin.js","dependencies":[{"path":"E:\\vueDome\\vue_Component\\src\\components\\easy-cron\\tabs\\mixin.js","mtime":1576738061725},{"path":"E:\\vueDome\\vue_Component\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueDome\\vue_Component\\node_modules\\_babel-loader@8.0.6@babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.index-of\";\n// 主要用于日和星期的互斥使用\nvar TYPE_NOT_SET = 'TYPE_NOT_SET';\nvar TYPE_EVERY = 'TYPE_EVERY';\nvar TYPE_RANGE = 'TYPE_RANGE';\nvar TYPE_LOOP = 'TYPE_LOOP';\nvar TYPE_WORK = 'TYPE_WORK';\nvar TYPE_LAST = 'TYPE_LAST';\nvar TYPE_SPECIFY = 'TYPE_SPECIFY';\nvar DEFAULT_VALUE = '?';\nexport default {\n  model: {\n    prop: 'prop',\n    event: 'change'\n  },\n  props: {\n    prop: {\n      type: String,\n      default: DEFAULT_VALUE\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    var type = TYPE_EVERY;\n    return {\n      DEFAULT_VALUE: DEFAULT_VALUE,\n      // 类型\n      type: type,\n      // 启用日或者星期互斥用\n      TYPE_NOT_SET: TYPE_NOT_SET,\n      TYPE_EVERY: TYPE_EVERY,\n      TYPE_RANGE: TYPE_RANGE,\n      TYPE_LOOP: TYPE_LOOP,\n      TYPE_WORK: TYPE_WORK,\n      TYPE_LAST: TYPE_LAST,\n      TYPE_SPECIFY: TYPE_SPECIFY,\n      // 对于不同的类型，所定义的值也有所不同\n      valueRange: {\n        start: 0,\n        end: 0\n      },\n      valueLoop: {\n        start: 0,\n        interval: 1\n      },\n      valueWeek: {\n        start: 0,\n        end: 0\n      },\n      valueList: [],\n      valueWork: 1,\n      maxValue: 0,\n      minValue: 0\n    };\n  },\n  watch: {\n    prop: function prop(newVal, oldVal) {\n      if (newVal === this.value_c) {\n        // console.info('skip ' + newVal)\n        return;\n      }\n\n      this.parseProp(newVal);\n    }\n  },\n  computed: {\n    value_c: function value_c() {\n      var result = [];\n\n      switch (this.type) {\n        case TYPE_NOT_SET:\n          result.push('?');\n          break;\n\n        case TYPE_EVERY:\n          result.push('*');\n          break;\n\n        case TYPE_RANGE:\n          result.push(\"\".concat(this.valueRange.start, \"-\").concat(this.valueRange.end));\n          break;\n\n        case TYPE_LOOP:\n          result.push(\"\".concat(this.valueLoop.start, \"/\").concat(this.valueLoop.interval));\n          break;\n\n        case TYPE_WORK:\n          result.push(\"\".concat(this.valueWork, \"W\"));\n          break;\n\n        case TYPE_LAST:\n          result.push('L');\n          break;\n\n        case TYPE_SPECIFY:\n          result.push(this.valueList.join(','));\n          break;\n\n        default:\n          result.push(this.DEFAULT_VALUE);\n          break;\n      }\n\n      return result.length > 0 ? result.join('') : this.DEFAULT_VALUE;\n    }\n  },\n  methods: {\n    parseProp: function parseProp(value) {\n      if (value === this.value_c) {\n        // console.info('same ' + value)\n        return;\n      }\n\n      if (typeof this.preProcessProp === 'function') {\n        value = this.preProcessProp(value);\n      }\n\n      try {\n        if (!value || value === this.DEFAULT_VALUE) {\n          this.type = TYPE_EVERY;\n        } else if (value.indexOf('?') >= 0) {\n          this.type = TYPE_NOT_SET;\n        } else if (value.indexOf('-') >= 0) {\n          this.type = TYPE_RANGE;\n          var values = value.split('-');\n\n          if (values.length >= 2) {\n            this.valueRange.start = parseInt(values[0]);\n            this.valueRange.end = parseInt(values[1]);\n          }\n        } else if (value.indexOf('/') >= 0) {\n          this.type = TYPE_LOOP;\n\n          var _values = value.split('/');\n\n          if (_values.length >= 2) {\n            this.valueLoop.start = value[0] === '*' ? 0 : parseInt(_values[0]);\n            this.valueLoop.interval = parseInt(_values[1]);\n          }\n        } else if (value.indexOf('W') >= 0) {\n          this.type = TYPE_WORK;\n\n          var _values2 = value.split('W');\n\n          if (!_values2[0] && !isNaN(_values2[0])) {\n            this.valueWork = parseInt(_values2[0]);\n          }\n        } else if (value.indexOf('L') >= 0) {\n          this.type = TYPE_LAST;\n\n          var _values3 = value.split('L');\n\n          this.valueLast = parseInt(_values3[0]);\n        } else if (value.indexOf(',') >= 0 || !isNaN(value)) {\n          this.type = TYPE_SPECIFY;\n          this.valueList = value.split(',').map(function (item) {\n            return parseInt(item);\n          });\n        } else {\n          this.type = TYPE_EVERY;\n        }\n      } catch (e) {\n        // console.info(e)\n        this.type = TYPE_EVERY;\n      }\n    }\n  }\n};",{"version":3,"sources":["E:/vueDome/vue_Component/src/components/easy-cron/tabs/mixin.js"],"names":["TYPE_NOT_SET","TYPE_EVERY","TYPE_RANGE","TYPE_LOOP","TYPE_WORK","TYPE_LAST","TYPE_SPECIFY","DEFAULT_VALUE","model","prop","event","props","type","String","default","disabled","Boolean","data","valueRange","start","end","valueLoop","interval","valueWeek","valueList","valueWork","maxValue","minValue","watch","newVal","oldVal","value_c","parseProp","computed","result","push","join","length","methods","value","preProcessProp","indexOf","values","split","parseInt","isNaN","valueLast","map","item","e"],"mappings":"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","sourcesContent":["// 主要用于日和星期的互斥使用\r\nconst TYPE_NOT_SET = 'TYPE_NOT_SET'\r\nconst TYPE_EVERY = 'TYPE_EVERY'\r\nconst TYPE_RANGE = 'TYPE_RANGE'\r\nconst TYPE_LOOP = 'TYPE_LOOP'\r\nconst TYPE_WORK = 'TYPE_WORK'\r\nconst TYPE_LAST = 'TYPE_LAST'\r\nconst TYPE_SPECIFY = 'TYPE_SPECIFY'\r\n\r\nconst DEFAULT_VALUE = '?'\r\n\r\nexport default {\r\n  model: {\r\n    prop: 'prop',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    prop: {\r\n      type: String,\r\n      default: DEFAULT_VALUE\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data () {\r\n    const type = TYPE_EVERY\r\n    return {\r\n      DEFAULT_VALUE,\r\n      // 类型\r\n      type,\r\n      // 启用日或者星期互斥用\r\n      TYPE_NOT_SET,\r\n      TYPE_EVERY,\r\n      TYPE_RANGE,\r\n      TYPE_LOOP,\r\n      TYPE_WORK,\r\n      TYPE_LAST,\r\n      TYPE_SPECIFY,\r\n      // 对于不同的类型，所定义的值也有所不同\r\n      valueRange: {\r\n        start: 0,\r\n        end: 0\r\n      },\r\n      valueLoop: {\r\n        start: 0,\r\n        interval: 1\r\n      },\r\n      valueWeek: {\r\n        start: 0,\r\n        end: 0\r\n      },\r\n      valueList: [],\r\n      valueWork: 1,\r\n      maxValue: 0,\r\n      minValue: 0\r\n    }\r\n  },\r\n  watch: {\r\n    prop (newVal, oldVal) {\r\n      if (newVal === this.value_c) {\r\n        // console.info('skip ' + newVal)\r\n        return\r\n      }\r\n      this.parseProp(newVal)\r\n    }\r\n  },\r\n  computed: {\r\n    value_c () {\r\n      let result = []\r\n      switch (this.type) {\r\n        case TYPE_NOT_SET:\r\n          result.push('?')\r\n          break\r\n        case TYPE_EVERY:\r\n          result.push('*')\r\n          break\r\n        case TYPE_RANGE:\r\n          result.push(`${this.valueRange.start}-${this.valueRange.end}`)\r\n          break\r\n        case TYPE_LOOP:\r\n          result.push(`${this.valueLoop.start}/${this.valueLoop.interval}`)\r\n          break\r\n        case TYPE_WORK:\r\n          result.push(`${this.valueWork}W`)\r\n          break\r\n        case TYPE_LAST:\r\n          result.push('L')\r\n          break\r\n        case TYPE_SPECIFY:\r\n          result.push(this.valueList.join(','))\r\n          break\r\n        default:\r\n          result.push(this.DEFAULT_VALUE)\r\n          break\r\n      }\r\n      return result.length > 0 ? result.join('') : this.DEFAULT_VALUE\r\n    }\r\n  },\r\n  methods: {\r\n    parseProp (value) {\r\n      if (value === this.value_c) {\r\n        // console.info('same ' + value)\r\n        return\r\n      }\r\n      if (typeof (this.preProcessProp) === 'function') {\r\n        value = this.preProcessProp(value)\r\n      }\r\n      try {\r\n        if (!value || value === this.DEFAULT_VALUE) {\r\n          this.type = TYPE_EVERY\r\n        } else if (value.indexOf('?') >= 0) {\r\n          this.type = TYPE_NOT_SET\r\n        } else if (value.indexOf('-') >= 0) {\r\n          this.type = TYPE_RANGE\r\n          const values = value.split('-')\r\n          if (values.length >= 2) {\r\n            this.valueRange.start = parseInt(values[0])\r\n            this.valueRange.end = parseInt(values[1])\r\n          }\r\n        } else if (value.indexOf('/') >= 0) {\r\n          this.type = TYPE_LOOP\r\n          const values = value.split('/')\r\n          if (values.length >= 2) {\r\n            this.valueLoop.start = value[0] === '*' ? 0 : parseInt(values[0])\r\n            this.valueLoop.interval = parseInt(values[1])\r\n          }\r\n        } else if (value.indexOf('W') >= 0) {\r\n          this.type = TYPE_WORK\r\n          const values = value.split('W')\r\n          if (!values[0] && !isNaN(values[0])) {\r\n            this.valueWork = parseInt(values[0])\r\n          }\r\n        } else if (value.indexOf('L') >= 0) {\r\n          this.type = TYPE_LAST\r\n          const values = value.split('L')\r\n          this.valueLast = parseInt(values[0])\r\n        } else if (value.indexOf(',') >= 0 || !isNaN(value)) {\r\n          this.type = TYPE_SPECIFY\r\n          this.valueList = value.split(',').map(item => parseInt(item))\r\n        } else {\r\n          this.type = TYPE_EVERY\r\n        }\r\n      } catch (e) {\r\n        // console.info(e)\r\n        this.type = TYPE_EVERY\r\n      }\r\n    }\r\n  }\r\n}\r\n"]}]}